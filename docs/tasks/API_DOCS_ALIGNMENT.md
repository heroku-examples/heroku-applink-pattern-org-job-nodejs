# API Docs (`api-docs.yaml`) Alignment

Goal: Align the static `api-docs.yaml` file with the dynamically generated OpenAPI schema and code behavior. Apply changes one by one and validate using the agreed workflow.

**Reference:** Dynamic schema is generated by running `node server/index.js` and fetching `http://localhost:3000/docs/json`.

## Completed Tasks
- [x] Update `servers.url` from `http://localhost:8080` to `http://localhost:5000`.
- [x] Update `servers.description`.
- [x] Add `description` to the main `info` block.
- [x] Add the `Sample Data` tag definition to the main `tags` list.
- [x] Update `tags` for `/api/data/create` and `/api/data/delete` paths from `Pricing Engine` to `Sample Data`.
- [x] Update `summary` for `/api/data/create` and `/api/data/delete` paths to match dynamic schema/code.
- [x] Update response codes for all paths from `200` to `202`.
- [x] Update response `content` type for all paths from `*/*` to `application/json`.
- [x] Consolidate `components.schemas.BatchExecutionResponse` and `components.schemas.DataJobResponse` into a single `components.schemas.JobResponse`.
- [x] Update `$ref` in all path responses to point to `#/components/schemas/JobResponse`.
- [x] Remove all `example` fields from schemas within `components.schemas`.
- [x] Add `format: uuid` to the `jobId` property within the `JobResponse` schema.

## In Progress Tasks
- [ ] *None*

## Implementation Plan

1.  Select the next incomplete task from "In Progress Tasks".
2.  Make the corresponding change ONLY to `api-docs.yaml`.
3.  Validate the change using the 3-step workflow:
    a.  Run `node server/index.js` in background.
    b.  Fetch dynamic schema: `curl -s http://localhost:3000/docs/json`.
    c.  Read updated `api-docs.yaml`.
    d.  Compare the relevant section of the dynamic schema and `api-docs.yaml` to confirm alignment for the specific task.
    e.  Stop server: `pkill -f 'node server/index.js'`.
4.  If validation is successful, move the task to "Completed Tasks".
5.  Repeat until all tasks are complete.

## Relevant files

- `api-docs.yaml` - The static schema definition being modified.
- `server/index.js` - Source of the dynamic schema configuration (for reference).
- `server/routes/api.js` - Source of route definitions (for reference). 